# Eval: Generate Episode Audio
# Tests the ability to generate all dialogue audio for an episode

id: eval_fashanus_001
name: Generate Episode Audio
description: Generate all dialogue audio files for an episode from script
category: fashanus

inputs:
  script_path:
    type: file
    description: Path to episode script.md file
    example: ".agent/projects/fashanus/episodes/ep01a/script.md"
  output_dir:
    type: directory
    description: Directory to save audio files
    example: ".agent/projects/fashanus/episodes/ep01a/"

expected_outputs:
  - name: all_files_exist
    type: boolean
    description: All dialogue files referenced in script are created
  - name: min_file_size
    type: constraint
    description: Each file is at least 1KB (not empty/corrupted)
    threshold: 1024
  - name: correct_voices
    type: boolean
    description: Each character uses their assigned voice

validation_steps:
  - Parse script for expected dialogue count
  - Check each expected file exists
  - Verify file sizes meet minimum threshold
  - Verify no generation errors in output

metrics:
  pass_fail:
    type: boolean
    description: Did all files generate successfully?
  time_seconds:
    type: integer
    description: Total time from start to completion
  tool_calls:
    type: integer
    description: Number of tool invocations
  human_edits:
    type: integer
    description: Number of manual corrections needed
  files_generated:
    type: integer
    description: Count of audio files created

baseline:
  time_seconds: 180
  tool_calls: 8
  human_edits: 0
  files_generated: 6

history:
  - date: "2026-02-10"
    episode: "ep01a"
    pass: true
    time_seconds: 120
    tool_calls: 6
    human_edits: 0
    files_generated: 6
    notes: "First successful run, used individual edge-tts calls"
  - date: "2026-02-10"
    episode: "ep01b"
    pass: true
    time_seconds: 90
    tool_calls: 6
    human_edits: 0
    files_generated: 6
    notes: "Second run, slightly faster"
