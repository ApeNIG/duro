# Eval: Generate Episode Script
# Tests the ability to write a complete episode script from arc outline

id: eval_fashanus_002
name: Generate Episode Script
description: Create a complete script.md file from arc outline
category: fashanus

inputs:
  arc_path:
    type: file
    description: Path to story arc markdown file
    example: ".agent/projects/fashanus/arcs/arc01_the_art_dream.md"
  episode_id:
    type: string
    description: Episode identifier (e.g., "ep01a", "ep01b")
  output_path:
    type: file
    description: Where to save the script.md file

expected_outputs:
  - name: file_exists
    type: boolean
    description: Script file is created
  - name: has_scenes
    type: boolean
    description: Script contains scene breakdowns
  - name: has_dialogue
    type: boolean
    description: Script contains character dialogue
  - name: has_audio_list
    type: boolean
    description: Script lists required audio files
  - name: follows_arc
    type: boolean
    description: Script matches the arc outline for this episode

validation_steps:
  - Check file exists and is not empty
  - Parse for scene headers (## Scene N)
  - Parse for dialogue format (**CHARACTER:**)
  - Verify audio file list present
  - Compare against arc document for this episode

metrics:
  pass_fail:
    type: boolean
    description: Does script meet all requirements?
  time_seconds:
    type: integer
    description: Time to generate script
  human_edits:
    type: integer
    description: Number of corrections needed
  dialogue_count:
    type: integer
    description: Number of dialogue lines
  scene_count:
    type: integer
    description: Number of scenes

baseline:
  time_seconds: 300
  human_edits: 0
  dialogue_count: 6
  scene_count: 4

history:
  - date: "2026-02-10"
    episode: "ep01a"
    pass: true
    time_seconds: 180
    human_edits: 0
    dialogue_count: 6
    scene_count: 4
    notes: "Generated from arc outline"
