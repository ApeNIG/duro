# Memory Log - 2026-02-17

### [02:16] Learnings
**Learning (Creative):** AI video production with stock images + TTS = technically works but emotionally flat. For narrative content like The Fashanus, need: (1) consistent character imagery, (2) real voice acting or better voice direction, (3) music/ambient soundscape, (4) motion on stills. The pipeline works; the craft needs more.

### [02:17] Learnings
**Learning (Technical):** Phase 4.4 production testing validated the full Duro eval pipeline: episode → actions → close → evaluate → apply. Confidence deltas work correctly (+0.01 per reinforcement). System is production-ready for tracking creative workflows.

### [02:17] Learnings
**Learning (Technical):** edge-tts is free and works well for prototyping voiceovers, but lacks emotional range needed for narrative content. Voice assignment: en-GB-SoniaNeural for British female characters. Rate parameter (-10% to -15%) helps with pacing.

### [02:17] Learnings
**Learning (Technical):** moviepy 2.x API changes: use `resized(new_size=)` not `resize(newsize=)`, use `with_duration()` not `set_duration()`, use `with_audio()` not `set_audio()`. Effects API changed significantly - skip fades for quick prototypes.

### [02:17] Task Completed
**Task:** Phase 4.4 Production Testing - complete session
**Outcome:** Completed both synthetic episode test and real production test (The Fashanus Episode 1). Eval pipeline validated. Produced 35-sec video at $0 cost. User feedback: technically works but emotionally flat - need consistent characters, real voice acting, music. Key learning: pipeline works, craft needs more.

### [02:41] Learnings
**Learning (Architecture):** Keyword-gated retrieval creates blind spots for new domains. Proactive recall failed for 'design' because it wasn't in RETRIEVAL_TRIGGERS. Every new skill domain would have the same problem. Semantic search should be the default path.

### [02:52] Task Completed
**Task:** Implemented Option C semantic-first proactive recall architecture
**Outcome:** Modified proactive.py to always search semantically regardless of hot path classification. Keywords now boost scores (+0.05 per tag overlap) instead of gating access. Changed search_mode to 'semantic_first', lowered min_confidence to 0.2. This fix applies to ALL skill domains - current and future - without requiring keyword additions for each new domain.

### [02:52] Learnings
**Learning (Architecture):** Keyword-based retrieval gating creates blind spots for new skill domains. Semantic search should always run first, with keywords boosting relevance rather than blocking access. This ensures memory works for any domain without manual keyword additions.

### [03:45] Learnings
**Learning (Technical):** When debugging "vec_score always 0" issues in Duro semantic search: (1) First verify the database has cosine distance configured with migration status check, (2) Test vector_search directly with Python to confirm embeddings work, (3) Check for key name mismatches between hybrid_search output and explain_score input - the actual keys are "vec_score" and "fts_score", not "vector" and "bm25".

### [03:45] Learnings
**Learning (Technical):** The Duro MCP database is at index.db (not index.sqlite). Path: ~/.agent/memory/index.db. Always check MCP server config (settings.json) for actual paths before debugging.

### [03:45] Task Completed
**Task:** Debug and fix vec_score showing 0.00 in Duro semantic search
**Outcome:** Found key name mismatch in ranking_config.py:explain_score() - was looking for "vector"/"bm25" but hybrid_search creates "vec_score"/"fts_score". Fixed lines 290 and 299. Cosine distance migration was correctly applied, embeddings work fine (0.70+ similarity scores), only the explain text display was wrong.

### [03:51] Task Completed
**Task:** Test and commit explain_score key name fix
**Outcome:** Verified vec_score/fts_score keys work correctly, committed and pushed fix (97eceea)

### [03:51] Task Completed
**Task:** Commit and push pending duro-mcp changes
**Outcome:** Committed 5 changes: semantic-first proactive recall, deferred startup, embeddings fallback, design autocapture category, and 2 migrations. All pushed to origin (bdf736a)

### [03:51] Learnings
**Learning (Technical):** When refactoring dict key names (e.g., "vector" to "vec_score"), search entire codebase for all usages - downstream functions like explain_score may reference old keys and silently return defaults instead of actual values.

### [04:48] Learnings
**Learning (Process):** When debugging recurring problems, always investigate root cause not just symptoms. Recent changes (like new server setups) are prime suspects. Think about the full system: multiple machines, sync mechanisms, shared repos, CI/CD. When user points to a clue, follow it immediately.

### [04:48] Learnings
**Learning (Technical):** Design workout progression: Start with maximum constraints (B&W, one font, no icons) to prove clarity, then layer in systems (grid, spacing, one accent), then add style with purpose. The 20% trim test genuinely improves designs - removing secondary CTAs, detail paragraphs, and obvious labels sharpens focus.

### [04:48] Task Completed
**Task:** Design Workout: LORE CRM Landing Page (3 rounds)
**Outcome:** Completed all 3 rounds. R1: B&W clarity (passed). R2: Systems with 8pt grid + accent (40/50). R3: Quiet Luxury with iterations (45/50). Applied 20% trim and conversion optimizations (mockup, metrics, testimonial, transformation narrative).

### [04:48] Task Completed
**Task:** Fix Duro MCP config sync conflict
**Outcome:** Root cause: DigitalOcean server auto-syncing Linux paths to shared GitHub repo, overwriting Windows config. Fix: Added config.json to .gitignore, created config.default.json template. Each platform now keeps its own config.
