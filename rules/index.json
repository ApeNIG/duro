{
  "version": "3.0",
  "description": "Duro Rules Index - ENFORCED rules only. Guidance moved to candidates/",
  "last_updated": "2026-02-15",
  "audit_date": "2026-02-15",
  "enforcement_patterns": "enforcement_patterns.json",
  "rule_types": {
    "hard": "Enforced at chokepoints (PreToolUse hooks, CI gates)",
    "soft": "Warnings only, no blocking"
  },
  "enforcement_points": {
    "PreToolUse": "Hook that runs before Bash/Edit/Write tools",
    "skill_runner": "Gate in skill execution pipeline",
    "CI": "GitHub Actions workflow checks"
  },
  "active_rules": [
    {
      "id": "rule_safety_001",
      "name": "No Secrets in Commits",
      "file": "safety/no_secrets_commit.json",
      "type": "hard",
      "priority": 0,
      "enforcement": "PreToolUse",
      "measurable": true,
      "trigger_keywords": ["secret", "api key", "password", "credential", ".env", "token"],
      "patterns_ref": "enforcement_patterns.json#secrets_in_git"
    },
    {
      "id": "rule_safety_002",
      "name": "No Destructive Commands Without Confirmation",
      "file": "safety/no_destructive_commands.json",
      "type": "hard",
      "priority": 0,
      "enforcement": "PreToolUse",
      "measurable": true,
      "trigger_keywords": ["rm -rf", "force", "delete", "drop", "destroy"],
      "patterns_ref": "enforcement_patterns.json#destructive_bash_commands"
    },
    {
      "id": "rule_safety_003",
      "name": "Production Environment Safeguards",
      "file": "safety/production_safeguards.json",
      "type": "hard",
      "priority": 0,
      "enforcement": "future",
      "measurable": true,
      "trigger_keywords": ["production", "prod", "live", "deploy"]
    },
    {
      "id": "rule_safety_004",
      "name": "Input Validation",
      "file": "safety/input_validation.json",
      "type": "hard",
      "priority": 0,
      "enforcement": "future",
      "measurable": true,
      "trigger_keywords": ["user input", "validation", "sanitize", "injection"]
    },
    {
      "id": "rule_safety_005",
      "name": "Sensitive Data Handling",
      "file": "safety/sensitive_data_handling.json",
      "type": "hard",
      "priority": 0,
      "enforcement": "future",
      "measurable": false,
      "trigger_keywords": ["sensitive", "pii", "personal data", "private", "encrypt"]
    },
    {
      "id": "rule_tool_003",
      "name": "File Operation Tool Selection",
      "file": "tools/file_operations.json",
      "type": "hard",
      "priority": 1,
      "enforcement": "PreToolUse",
      "measurable": true,
      "trigger_keywords": ["read file", "edit file", "write file"],
      "patterns_ref": "enforcement_patterns.json#read_before_edit"
    },
    {
      "id": "rule_tool_005",
      "name": "Git Operation Guidelines",
      "file": "tools/git_operations.json",
      "type": "hard",
      "priority": 1,
      "enforcement": "PreToolUse",
      "measurable": true,
      "trigger_keywords": ["git", "commit", "push", "force", "amend"],
      "patterns_ref": "enforcement_patterns.json#amend_pushed_commit"
    },
    {
      "id": "rule_workflow_001",
      "name": "Read Before Edit",
      "file": "workflows/read_before_edit.json",
      "type": "hard",
      "priority": 1,
      "enforcement": "PreToolUse",
      "measurable": true,
      "trigger_keywords": ["edit", "modify", "change", "update file"],
      "patterns_ref": "enforcement_patterns.json#read_before_edit"
    },
    {
      "id": "rule_failure_001",
      "name": "Network Timeout Handling",
      "file": "failures/network_timeout.json",
      "type": "hard",
      "priority": 1,
      "enforcement": "skill_runner",
      "measurable": true,
      "trigger_keywords": ["timeout", "connection", "network", "request failed"]
    },
    {
      "id": "rule_failure_006",
      "name": "Edit Context Mismatch",
      "file": "failures/edit_context_mismatch.json",
      "type": "hard",
      "priority": 1,
      "enforcement": "PreToolUse",
      "measurable": true,
      "trigger_keywords": ["edit failed", "old_string not found", "context mismatch"]
    },
    {
      "id": "rule_failure_008",
      "name": "API Rate Limit",
      "file": "failures/api_rate_limit.json",
      "type": "hard",
      "priority": 1,
      "enforcement": "skill_runner",
      "measurable": true,
      "trigger_keywords": ["rate limit", "429", "too many requests", "throttled"]
    },
    {
      "id": "rule_workflow_design_001",
      "name": "Design Workflow - Moodboard First",
      "file": "workflows/design_workflow.json",
      "type": "hard",
      "priority": 1,
      "enforcement": "manual",
      "measurable": true,
      "trigger_keywords": ["design", "UI", "UX", "mockup", "interface", "dashboard", "portal", "landing page", "build UI"]
    }
  ],
  "soft_rules": [
    {
      "id": "rule_quality_001",
      "name": "Code Formatting Standards",
      "file": "quality/code_formatting.json",
      "type": "soft",
      "priority": 2,
      "enforcement": "none",
      "measurable": false,
      "trigger_keywords": ["code style", "formatting", "indentation"]
    },
    {
      "id": "rule_quality_002",
      "name": "Commit Message Quality",
      "file": "quality/commit_messages.json",
      "type": "soft",
      "priority": 2,
      "enforcement": "PreToolUse",
      "measurable": false,
      "trigger_keywords": ["commit message", "git commit"],
      "patterns_ref": "enforcement_patterns.json#short_commit_message"
    }
  ],
  "candidates_directory": "candidates/",
  "candidates_count": 44,
  "candidates_note": "Demoted rules that may be promoted if enforcement points are added",
  "statistics": {
    "total_active": 14,
    "hard_enforced_now": 6,
    "hard_future": 5,
    "hard_manual": 1,
    "soft": 2,
    "candidates": 44
  },
  "enforcement_evals": [
    "evals/enforcement/destructive_commands.yaml",
    "evals/enforcement/secrets_in_git.yaml",
    "evals/enforcement/force_push.yaml",
    "evals/enforcement/read_before_edit.yaml",
    "evals/enforcement/amend_pushed.yaml",
    "evals/enforcement/path_sandbox.yaml"
  ]
}
